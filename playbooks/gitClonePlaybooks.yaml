- name: Git Project Setup
  hosts: localhost
  gather_facts: yes
  tasks:
    - name: Ensure playbooks directory exists
      file:
        path: "/home/ubuntu/playbooks"
        state: directory

    - name: Copy the cloned project to playbooks directory
      copy:
        src: "/home/ubuntu/FlaskWebApp/"
        dest: "/home/ubuntu/playbooks/"
        remote_src: yes

    - name: Remove FlaskWebApp directory
      file:
        path: "/home/ubuntu/FlaskWebApp"
        state: absent
